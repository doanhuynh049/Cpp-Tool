<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SmartSockets::TipcDispatcher class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.12 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>SmartSockets::TipcDispatcher  Class Reference</h1><code>#include &lt;<a class="el" href="tdisp_8h-source.html">tdisp.h</a>&gt;</code>
<p>
<a href="classSmartSockets_1_1TipcDispatcher-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a0">TipcDispatcher</a> (T_IPC_DISPATCHER dispatcher, bool destroyFlag=false, bool isDetached=false)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a1">TipcDispatcher</a> (bool isDetached=false)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a2">~TipcDispatcher</a> ()  throw ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a3">operator T_IPC_DISPATCHER</a> () const  throw ()</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a4">dispatch</a> (real8 timeout=T_TIMEOUT_FOREVER)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a5">mainLoop</a> (real8 timeout=T_TIMEOUT_FOREVER)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a6">eventTraverse</a> (<a class="el" href="classSmartSockets_1_1TipcDispatcherTraverser.html">TipcDispatcherTraverser</a> *travObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1MessageEvent.html">MessageEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a7">createMsgTypeEvent</a> (const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;srv, const <a class="el" href="classSmartSockets_1_1TipcMt.html">TipcMt</a> &amp;mt, <a class="el" href="classSmartSockets_1_1MessageEventHandler.html">MessageEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1MessageEvent.html">MessageEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a8">createMsgSubjEvent</a> (const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;srv, const char *subject, <a class="el" href="classSmartSockets_1_1MessageEventHandler.html">MessageEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1TimerEvent.html">TimerEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a9">createTimerEvent</a> (real8 interval, <a class="el" href="classSmartSockets_1_1TimerEventHandler.html">TimerEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1ConnEvent.html">ConnEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a10">createConnEvent</a> (const <a class="el" href="classSmartSockets_1_1TipcConn.html">TipcConn</a> &amp;connection, T_IO_CHECK_MODE checkMode, <a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1SocketEvent.html">SocketEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a11">createSocketEvent</a> (sock socketFd, T_IO_CHECK_MODE checkMode, <a class="el" href="classSmartSockets_1_1SocketEventHandler.html">SocketEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classSmartSockets_1_1UserEvent.html">UserEvent</a> *&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a12">createUserEvent</a> (void *data, <a class="el" href="classSmartSockets_1_1UserEventHandler.html">UserEventHandler</a> *handlerObj)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a13">destroyEvent</a> (<a class="el" href="classSmartSockets_1_1TipcEvent.html">TipcEvent</a> *event)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a14">addInboundConnection</a> (const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;srv)  throw (TipcException)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a15">removeInboundConnection</a> (const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;srv)  throw (TipcException)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The Dispatcher allows one to create events, and trigger the event handlers associated with them. Currently five types of events are supported:
<p>
<ul>
<li>Timer events - make the dispatcher invoke TimerEventHandlers at a specific interval. All timers are repeating. To simulate a one-shot timer the associated callback function should be coded to remove the event.</ul>
<ul>
<li>Socket events - make the dispatcher invoke SocketEventHandlers whenever there's data to be read or written from/to a socket. Socket events give programmers a very similar functionality to the C select() function with an object-oriented abstraction.</ul>
<ul>
<li>Connection events - make the dispatcher invoke ConnectionEventHandlers for read or write availability on peer-to-peer connections.</ul>
<ul>
<li>User events - make the dispatcher invoke UserEventHandlers. User events are only useful for dispatchers running in detatched mode. It allows users to invoke methods in the Dispatcher thread. When a user event is added to a dispatcher, it is immediately queued to be invoked. There is not a trigger per se for user events.</ul>
<ul>
<li>Message events - make the dispatcher invoke MessageEventHandlers either based on a message type or on a subject. Message events provide the same functionality as process callbacks and subject callbacks in the <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> class.</ul>
Message events and <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> callbacks, as stated above, have overlap in functionality. Callbacks are useful for applications that only have a single or few connections to RTserver. It's not advisable to mix callbacks with events, as they are different paradigms of programming. If they are mixed, however, the dispatcher will actually invoke all <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> callbacks before invoking the message event handlers associated with a connection.
<p>
If a programmer chooses to use callbacks rather than events, the dispatcher is still useful; it can be used to service the callbacks of different connections all within the same thread. In order to achieve this, a call to <a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a14">addInboundConnection</a>() should be made.
<p>
Multiple dispatchers are allowed within a process. Any number of connections and events may be added to a dispatcher. A dispatcher is thread-safe and may be operated on from any thread. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="SmartSockets::TipcDispatcher::TipcDispatcher"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> SmartSockets::TipcDispatcher::TipcDispatcher </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">T_IPC_DISPATCHER&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dispatcher</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>destroyFlag</em> = false, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isDetached</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor compatible with the C API. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dispatcher</em>&nbsp;</td><td>
C structure </td></tr>
<tr><td valign=top><em>destroyFlag</em>&nbsp;</td><td>
determines whether or not the destructor destroys the T_IPC_DISPATCHER C structure. </td></tr>
<tr><td valign=top><em>isDetached</em>&nbsp;</td><td>
determines whether or not the dispatcher structure passed in is running in detatched mode. </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcherException.html">TipcDispatcherException</a></em>&nbsp;</td><td>
 if the dispatcher structure is NULL. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="SmartSockets::TipcDispatcher::TipcDispatcher"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> SmartSockets::TipcDispatcher::TipcDispatcher </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>isDetached</em> = false          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a dispatcher <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>detached</em>&nbsp;</td><td>
- determines whether or not the dispatcher starts processing events in a separate thread </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcher.html">TipcDispatcher</a></em>&nbsp;</td><td>
 exception if an error occurs creating the dispatcher object; it's important to note that an exception with the value T_ERR_VAL_INVALID is thrown if a detached dispatcher is started without calling <a class="el" href="classSmartSockets_1_1Utilities.html#d6">Utilities::initThreads</a>(). </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="SmartSockets::TipcDispatcher::~TipcDispatcher"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual SmartSockets::TipcDispatcher::~TipcDispatcher </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw ()<code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. Note that the destructor will destroy the C dispatcher structure unless the _destroyFlag is set to false.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a14" doxytag="SmartSockets::TipcDispatcher::addInboundConnection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SmartSockets::TipcDispatcher::addInboundConnection </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>srv</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a connection to the dispatcher. The connection added will behave as a source for messages. Messages coming from this connection will be read and processed by invoking the approriate connection callback (e.g. a ProcessCallback, a SubjectCallback, etc. Note that currently there's a limitation in the C API that enforces the fact that one connection can only belong to one dispatcher. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>srv</em>&nbsp;</td><td>
<a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> connection object to be added. </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcherException.html">TipcDispatcherException</a></em>&nbsp;</td><td>
 if the connection is already present or if there's a failure adding it to the dispatcher. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a10" doxytag="SmartSockets::TipcDispatcher::createConnEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1ConnEvent.html">ConnEvent</a>* SmartSockets::TipcDispatcher::createConnEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classSmartSockets_1_1TipcConn.html">TipcConn</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>connection</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>T_IO_CHECK_MODE&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>checkMode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be triggered whenever there's data ready to be read or written to a <a class="el" href="classSmartSockets_1_1TipcConn.html">TipcConn</a> object. Note that unlike the Message events, there's no need to add a peer to peer connection to the dispatcher. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>connection</em>&nbsp;</td><td>
the peer-to-peer object to be monitored for read or write events. </td></tr>
<tr><td valign=top><em>checkMode</em>&nbsp;</td><td>
if set to T_IO_CHECK_READ, triggers the <a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> object if data is ready to be read from the connection; if set to T_IO_CHECK_WRITE, triggers the <a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> object if data is ready to be written to the connection. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a conn event handler method. </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classSmartSockets_1_1ConnEventHandler.html#s0">ConnEventHandler::Handler</a> for more details on the signature of the conn event handler method. </dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="SmartSockets::TipcDispatcher::createMsgSubjEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1MessageEvent.html">MessageEvent</a>* SmartSockets::TipcDispatcher::createMsgSubjEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>subject</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1MessageEventHandler.html">MessageEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be triggered if a message that matches the given subject (wildcards will also work) reaches the given server connection. Note that in order for this event to be triggered, at least one Dispatcher in the process should have added the server connection to it; this can be done by calling the <a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a14">addInboundConnection</a>() method. Note that there's currently a limitation in the C API that mandates that a server connection must be added to at most one dispatcher in the process. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>srv</em>&nbsp;</td><td>
the server connection that will be receiving data. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a message handler method. </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classSmartSockets_1_1MessageEventHandler.html#s0">MessageEventHandler::Handler</a> for more details on the signature of the message handler method. </dl>    </td>
  </tr>
</table>
<a name="a7" doxytag="SmartSockets::TipcDispatcher::createMsgTypeEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1MessageEvent.html">MessageEvent</a>* SmartSockets::TipcDispatcher::createMsgTypeEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srv</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="classSmartSockets_1_1TipcMt.html">TipcMt</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>mt</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1MessageEventHandler.html">MessageEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be triggered if a message matching the given type reaches the given server connection. Note that in order for this event to be triggered, at least one Dispatcher in the process should have added the server connection to it; this can be done by calling the <a class="el" href="classSmartSockets_1_1TipcDispatcher.html#a14">addInboundConnection</a>() method. Note that there's currently a limitation in the C API that mandates that a server connection must be added to at most one dispatcher in the process. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>srv</em>&nbsp;</td><td>
the server connection that will be receiving data. </td></tr>
<tr><td valign=top><em>mt</em>&nbsp;</td><td>
the message type selector that will determine when the event handler will be triggered. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a message handler method. handler; defaults to the <a class="el" href="classSmartSockets_1_1MessageEventHandler.html#a0">MessageEventHandler::onMessage</a>() method. </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classSmartSockets_1_1MessageEventHandler.html#s0">MessageEventHandler::Handler</a> for more details on the signature of the message handler method. </dl>    </td>
  </tr>
</table>
<a name="a11" doxytag="SmartSockets::TipcDispatcher::createSocketEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1SocketEvent.html">SocketEvent</a>* SmartSockets::TipcDispatcher::createSocketEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sock&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>socketFd</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>T_IO_CHECK_MODE&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>checkMode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1SocketEventHandler.html">SocketEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be triggered whenever there's data ready to be read or written to a Socket. Note that unlike the Message events, there's no need to add a socket to the dispatcher. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>socketFd</em>&nbsp;</td><td>
the file descriptor of the socket to be monitored for read or write events. </td></tr>
<tr><td valign=top><em>checkMode</em>&nbsp;</td><td>
if set to T_IO_CHECK_READ, triggers the <a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> object if data is ready to be read from the socket; if set to T_IO_CHECK_WRITE, triggers the <a class="el" href="classSmartSockets_1_1ConnEventHandler.html">ConnEventHandler</a> object if data is ready to be written to the socket. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a socket event handler method. </td></tr>
</table>
</dl><dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classSmartSockets_1_1SocketEventHandler.html#s0">SocketEventHandler::Handler</a> for more details on the signature of the socket event handler method. </dl>    </td>
  </tr>
</table>
<a name="a9" doxytag="SmartSockets::TipcDispatcher::createTimerEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1TimerEvent.html">TimerEvent</a>* SmartSockets::TipcDispatcher::createTimerEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">real8&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>interval</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1TimerEventHandler.html">TimerEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be periodically triggered every interval. number of seconds. To simulate a one time event, call the <a class="el" href="classSmartSockets_1_1TipcEvent.html#a0">TipcEvent::destroy</a>() method once the event has been triggered once. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>interval</em>&nbsp;</td><td>
the number of seconds between events. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a timer event handler method. </td></tr>
<tr><td valign=top><em>handlerMethod</em>&nbsp;</td><td>
method matching the function signature of the timer event handler; defaults to the <a class="el" href="classSmartSockets_1_1TimerEventHandler.html#a0">TimerEventHandler::onTimer</a>() method. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a12" doxytag="SmartSockets::TipcDispatcher::createUserEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classSmartSockets_1_1UserEvent.html">UserEvent</a>* SmartSockets::TipcDispatcher::createUserEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>data</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classSmartSockets_1_1UserEventHandler.html">UserEventHandler</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>handlerObj</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an event that will be triggered immediately. User events are only useful for dispatchers running in detatched mode. It allows users to invoke methods in the Dispatcher thread. When a user event is added to a dispatcher, it is immediately queued to be invoked. There is not a trigger per se for user events. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>data</em>&nbsp;</td><td>
to be retrieved in the <a class="el" href="classSmartSockets_1_1UserEventHandler.html#s0">UserEventHandler::Handler</a> method. </td></tr>
<tr><td valign=top><em>handlerObj</em>&nbsp;</td><td>
instance of a child class implementing a socket event handler method. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a13" doxytag="SmartSockets::TipcDispatcher::destroyEvent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SmartSockets::TipcDispatcher::destroyEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classSmartSockets_1_1TipcEvent.html">TipcEvent</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>event</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unregisters and destroys a event created by one the create methods.     </td>
  </tr>
</table>
<a name="a4" doxytag="SmartSockets::TipcDispatcher::dispatch"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool SmartSockets::TipcDispatcher::dispatch </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">real8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>timeout</em> = T_TIMEOUT_FOREVER          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dispatches one event if there aren't any events available, it waits timeout number of seconds for one. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>timeout</em>&nbsp;</td><td>
number of seconds to wait for an event to be dispatched. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="SmartSockets::TipcDispatcher::eventTraverse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SmartSockets::TipcDispatcher::eventTraverse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classSmartSockets_1_1TipcDispatcherTraverser.html">TipcDispatcherTraverser</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>travObj</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Traverse the events waiting to be dispatched by the dispatcher. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>travObj</em>&nbsp;</td><td>
traversal object derived from the TipcDispatcherTraverse parent class. </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcherException.html">TipcDispatcherException</a></em>&nbsp;</td><td>
 if a NULL travObj is passed, or if an error occurs during the traversal process. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="SmartSockets::TipcDispatcher::mainLoop"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool SmartSockets::TipcDispatcher::mainLoop </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">real8&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>timeout</em> = T_TIMEOUT_FOREVER          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dispatch events continuously for timeout seconds. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>timeout</em>&nbsp;</td><td>
number of seconds to dispatch (defaults to infinite) </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcherException.html">TipcDispatcherException</a></em>&nbsp;</td><td>
 if an error occurred dispatching an event. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="SmartSockets::TipcDispatcher::operator T_IPC_DISPATCHER"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> SmartSockets::TipcDispatcher::operator T_IPC_DISPATCHER </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const  throw ()<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Extracts underlying T_IPC_DISPATCHER handle.     </td>
  </tr>
</table>
<a name="a15" doxytag="SmartSockets::TipcDispatcher::removeInboundConnection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SmartSockets::TipcDispatcher::removeInboundConnection </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>srv</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap>  throw (<a class="el" href="classSmartSockets_1_1TipcException.html">TipcException</a>)<code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes a connection from the dispatcher. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>srv</em>&nbsp;</td><td>
reference to the <a class="el" href="classSmartSockets_1_1TipcSrv.html">TipcSrv</a> connection object to be removed. </td></tr>
</table>
</dl><dl compact><dt><b>
Exceptions: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="el" href="classSmartSockets_1_1TipcDispatcher.html">TipcDispatcher</a></em>&nbsp;</td><td>
 exception if the server connection is not registered with this dispatcher, or if there's a failure in removing the connection. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="tdisp_8h-source.html">tdisp.h</a></ul>
<hr><address><small>Generated on Mon Apr 13 16:28:25 2009 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.12 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
